# PyPy

PyPy는 파이썬의 기본 인터프리터인 CPython을 대체하는 구현체이다. PyPy는 JIT(Just In Time) 컴파일을 사용하여 파이썬 코드를 머신 네이티브 어셈블리 언어로 변환한다. PyPy는 수행하는 작업에 따라 성능 향상이 상당 수준 증가한다. 평균적으로 기존 파이썬 성능의 약 7.6배, 작업에 따라 50배 이상의 성능 향상을 보여주기도 한다.

PyPy의 최적화 방법은 동적 언어를 위한 다른 JIT 컴파일러에 사용되는 방법과 같다. 실행중인 파이썬 프로그램을 분석하여 프로그램에서 생성되고 사용되는 개체의 형식 정보를 확인 후, 이 형식 정보를 가이드 삼아 속도를 높인다. 예를 들어, 파이썬 함수가 한 두개의 개체 유형만 다루는 경우 PyPy는 해당 사례만 처리하는 머신 코드를 생성한다. 또한 PyPy의 최적화는 런타임에 자동으로 처리되어 일반적으로는 성능 조정이 필요없다.

그러나 PyPy는 특정 종류의 프로그램에서는 그 효과가 반감되거나 아예 없어지는 한계가 존재한다. 따라서 기본 CPython 런타임의 완전한 범용 대체제가 되지는 못한다.

PyPy는 순수 파이썬 앱에서 가장 효과적이다. 즉, PyPy는 CPython의 네이티브 바이너리 인터페이스를 에뮬레이션하는 방식으로 인해  NumPy와 같은 C 라이브러리와 접속하는 파이썬 패키지에서는 성능이 떨어진다. PyPy의 개발자들은 이를 개선하기 위해 이 문제를 조금씩 수정하였고, 현재 NumPy와 PyPy는 원활하게 호환된다. 그러나 아직도 C 확장에 대한 최대한의 호환성을 원한다면 CPython을 사용해야 한다.

PyPy가 파이썬 프로그램을 최적화하는 방법에 따른 이점 중 하나는 실행 시간이 긴 프로그램에서의 최적화 효과가 크다는 점이다. 프로그램의 실행시간이 길수록 PyPy가 수집할 수 있는 런타임 형식 정보가 많아지고 그 만큼 더 최적화할 수 있다.