# Chapter3. 표현식과 조건문

>   이 장에서는 스칼라의 표현식, 문장, 조건문에 대해 공부한다.
>
>   -   표현식은 이 책에서 사용한 대로, 실행 후 값을 반환하는 코드 단위를 말한다.
>   -   한 줄 이상의 코드를 중괄호로 묶으면 하나의 표현식으로 간주하며, 이를 표현식 블록이라고 한다.



-   표현식은 기존 데이터를 변경하는 대신 값을 반환할 수 있기 때문에 함수형 프로그래밍의 기반이 된다.
-   표현식은 새로운 데이터를 기존 변수 대신 새로운 값에 저장하는 함수형 프로그래밍의 핵심 개념인 불변의 데이터를 사용할 수 있게 한다.
-   물론, 함수도 새로운 데이터를 반환하는 데 쓸 수 있지만, 이때 함수는 표현식의 다른 형태일 뿐이다.



-   만일 코드가 전부 값을 반환하는 표현식을 하나 이상 가지는 계층구조로 구성될 수 있다면, 불변의 데이터를 사용하는 것은 복잡하지 않다.
-   표현식의 반환값은 다른 표현식에 전달되거나 값에 저장될 것이다.
-   변수를 사용하는 방식에서 값을  사용하는 방식으로 옮겨갈 수록 함수와 표현식은 **부작용**이 줄어들 것이다.
-   즉, 이 함수와 표현식은 제공한 입력값에 대해서만 동작하므로 반환값 외에 다른 데이터에는 영향을 주지 않는다.
-   이는 함수형 프로그래밍의 주요 목표이자 이점 중 하나이다.



## 표현식(expression)

---

>   -   표현식은 값을 반환하는 코드의 단위이다.



-   다음 표현식은 단지 String 리터럴로만 구성되어 있다.

```shell
scala> "Hello"
res0: String = Hello
```

-   인상적인 표현식은 아니지만, 이를 다음과 같이 좀 더 복잡하게 만들 수도 있다.

```shell
scala> "Hel" + 'l' + "o"
res1: String = Hello
```



-   이 예제와 이전 예제 모두 유효한 표현식으로, 서로 다른 방식으로 구현되었지만 동일한 결과를 생성한다.
-   표현식에 있어 중요한 점은 이들이 반환하는 값이다.
-   표현식은 획득하고 사용할 수 있는 값을 반환하는 것이 전부다.



### 표현식으로 값과 변수 정의하기
---
- 앞에서 리터럴 값이 할당되는 것으로 값과 변수를 정의하였다.
- 하지만 그 값과 변수에 표현식의 반환값이 할당된다는 것이 더 정확한 표현일 것이다.
- 이는 표현식이 리터럴, 계산식 또는 함수 호출 어디에 해당하더라도 성립한다.

- 이를 고려하여 표현식으로 값과 변수를 정의하는 구문을 다시 정의해보자.
```scala
val <식별자>[: <타입>] = <표현식>
var <식별자>[: <타입>] = <표현식>
```

- 리터럴 값 또한 표현식의 일종이기에 이 정의가 더 포괄적이며 정확하다.
- 표현식은 또한 대부분의 스칼라 구문을 정의하는 데 좋은 기반이 됨을 알 수 있다.
- 앞으로 나올 구문 표기법에서 표현식을 사용하는 곳에 '<표현식>' 용어를 상용할 것이다.


### 표현식 블록
---
- 여러 표현식을 중괄호를 사용하여 하나로 묶어 단일 표현식 블록을 만들 수 있다.
- 표현식은 자신만의 범위를 가지며, 해당 표현식 블록에 국한된 값과 변수를 포함한다.
- 그 블록의 마지막 표현식이 전체 블록의 반환값이 된다.

- 예를 들어, 블록으로 더 잘 동작할 두 개의 표현식을 한 줄로 작성해보자.
```shell
scala> val x = 5 * 20; val amount = x + 10
x: Int = 100
amount: Int = 110
```

- 여기에서 우리가 관심을 가지고 유지해야 하는 값은 'amount'뿐이므로 이 표현식들을 결합하고, 그 블록에 'x' 값을 포함시키자.
- 'amount' 값을 정의하여 이 블록의 반환값으로 사용할 것이다.
```shell
scala> val amount = { val x = 5 * 20; x + 10 }
amount: Int = 110
```

- 블록의 마지막 표현식인 'x + 10'은 블록의 반환값을 결정한다.
- 이전 예제에서는 'x' 값이 'amount'와 동일한 레벨에서 정의되었다면, 이 예제에서는 그 블록에 국한되어 정의되었다.
- 이제 코드가 더 깔끔해졌는데, 'x'를 사용하는 의도가 'amount'를 정의하기 위한 것임이 분명해졌기 때문이다.

- 표현식 블록은 필요한 만큼 여러 줄로 확장할 수 있다.
- 이전 예제는 세미콜론 없이 다음과 같이 재작성할 수 있다.
```shell
scala> val amount = {
     |  val x = 5 * 20
     |  x + 10
     | }
val amount: Int = 110
```

- 표현식 블록 역시 중첩이 가능하며, 표현식 블록의 각 레벨은 자신만의 고유 범위의 값과 변수를 가진다.
- 간단한 예제로 삼중으로 중첩된 표현식 블록을 작성해보면 다음과 같다.
```shell
scala> val a = 1; { val b = a * 2; { val c = b + 4; c } } }
res5: Int = 6
```


### If 표현식
---
`if (<bool expression>) <표현식>`






























