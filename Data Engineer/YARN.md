# YARN(Yet Another Resource Negotiator)

- Hadoop2에서 도입한 클러스터 리소스 관리 및 애플리케이션 라이프 사이클 관리를 위한 아키텍처



## 등장 배경

---

- Hadoop1에서 잡 트래커가 애플리케이션의 라이프 사이클 관리와 클러스터 리소스 관리를 모두 담당하여 병목 현상이 발생하였다.
- 잡 트래커 한 대가 클러스터의 모든 노드를 관리해야 하고, 모든 애플리케이션을 관리하였기 때문에 잡 트래커에 많은 메모리를 할당해야 했고, 최대 4,000대의 노드까지 관리할 수 있었다.



## YARN 구성

---

YARN은 잡 트래커의 기능을 분리하여 자원 관리는 리소스 매니저와 노드 매니저, 애플리케이션의 라이프 사이클 관리 기능은 애플리케이션 마스터와 컨테이너가 담당하도록 하였다.



## 자원 관리

---

- 클러스터 자원 관리는 리소스 매니저와 노드 매니저를 이용하여 처리한다.
- 노드 매니저는 클러스터의 각 노드마다 실행된다. 현재 노드의 자원 상태를 관리하고, 리소스 매니저에 현재 자원의 상태를 보고한다.
- 리소스 매니저는 노드 매니저로부터 전달받은 정보를 이용하여 클러스터 전체의 자원을 관리한다. 자원 사용 상태를 모니터링하고, 애플리케이션 마서트에서 자원을 요청하면 비어있는 자원을 사용할 수 있도록 처리한다.
- 자원을 분배하는 규칙을 설정하는 것은 스케줄러이다. 스케줄러에 설정된 규칙에 따라 자원을 효율적으로 분배한다.